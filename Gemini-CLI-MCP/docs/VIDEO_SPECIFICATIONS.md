# Gemini æ¨¡å‹å½±ç‰‡åˆ†ææŠ€è¡“è¦æ ¼èˆ‡é™åˆ¶

## ğŸ“Š æ¨¡å‹èƒ½åŠ›å°æ¯”è¡¨

| æ¨¡å‹ç‰ˆæœ¬ | ä¸Šä¸‹æ–‡è¦–çª— | æœ€å¤§å½±ç‰‡é•·åº¦ (æ¨™æº–è§£æåº¦) | æœ€å¤§å½±ç‰‡é•·åº¦ (ä½è§£æåº¦) | æª”æ¡ˆå¤§å°é™åˆ¶ | æ”¯æ´è§£æåº¦ |
|---------|-----------|------------------------|----------------------|------------|----------|
| **gemini-2.0-flash-001** | 2M tokens | 2 å°æ™‚ | 6 å°æ™‚ | 2GB (GCS) / 15MB (HTTP) | 720p/480p/360p |
| **gemini-2.5-flash** | 2M tokens | 2 å°æ™‚ | 6 å°æ™‚ | 2GB (GCS) / 15MB (HTTP) | 720p/480p/360p |
| **gemini-2.5-pro** | 2M tokens | 2 å°æ™‚ | 6 å°æ™‚ | 2GB (GCS) / 15MB (HTTP) | 720p/480p/360p |
| **gemini-1.5-pro** | 1M tokens | 1 å°æ™‚ | 3 å°æ™‚ | 2GB (GCS) / 15MB (HTTP) | 720p/480p/360p |
| **gemini-1.5-flash** | 1M tokens | 1 å°æ™‚ | 3 å°æ™‚ | 2GB (GCS) / 15MB (HTTP) | 720p/480p/360p |

## ğŸ¯ è©³ç´°æŠ€è¡“è¦æ ¼

### æª”æ¡ˆå¤§å°é™åˆ¶

| ä¸Šå‚³æ–¹å¼ | æœ€å¤§æª”æ¡ˆå¤§å° | èªªæ˜ |
|---------|-------------|------|
| **Cloud Storage URI** | 2GB | æ¨è–¦ç”¨æ–¼å¤§å‹å½±ç‰‡æª”æ¡ˆ |
| **HTTP URL ä¸Šå‚³** | 15MB | é©åˆä¸­å°å‹æª”æ¡ˆ |
| **Firebase AI Logic SDK** | 20MB | ç¸½è«‹æ±‚å¤§å°é™åˆ¶ |
| **ç›´æ¥ä¸Šå‚³ (Base64)** | 20MB | åŒ…å«åœ¨ HTTP è«‹æ±‚ä¸­ |

### å½±ç‰‡è§£æåº¦æ”¯æ´

| è§£æåº¦ç´šåˆ¥ | å¯¦éš›è§£æåº¦ | Token æ¶ˆè€—ç‡ | é©ç”¨å ´æ™¯ |
|-----------|-----------|-------------|---------|
| **High** | 720p | ~300 tokens/ç§’ | é«˜å“è³ªåˆ†æã€ç´°ç¯€é‡è¦çš„å½±ç‰‡ |
| **Standard (é è¨­)** | 480p | ~300 tokens/ç§’ | ä¸€èˆ¬åˆ†æç”¨é€” |
| **Low** | 360p | ~100 tokens/ç§’ | é•·å½±ç‰‡ã€ç¯€çœè³‡æº |

### å½±ç‰‡è™•ç†åƒæ•¸

| åƒæ•¸ | é è¨­å€¼ | å¯èª¿æ•´ç¯„åœ | èªªæ˜ |
|------|-------|-----------|------|
| **å–æ¨£ç‡ (FPS)** | 1 fps | 0.1 - 60 fps | å½±ç‰‡å¹€æå–é »ç‡ |
| **éŸ³è¨Šè™•ç†** | 1Kbps | å›ºå®š | å–®è²é“éŸ³è¨Š |
| **æœ€å¤§å½±ç‰‡æ•¸** | 1 | 1 | æ¯å€‹è«‹æ±‚é™åˆ¶ |
| **é¡å¤–æª”æ¡ˆ** | - | 1 éŸ³è¨Š + 10 åœ–ç‰‡ | å¯åŒæ™‚è™•ç† |

### Token æ¶ˆè€—ä¼°ç®—

| å½±ç‰‡é•·åº¦ | æ¨™æº–è§£æåº¦ Token | ä½è§£æåº¦ Token | ä¸Šä¸‹æ–‡é™åˆ¶ |
|---------|----------------|---------------|-----------|
| **1 åˆ†é˜** | ~18,000 | ~6,000 | æ‰€æœ‰æ¨¡å‹ |
| **10 åˆ†é˜** | ~180,000 | ~60,000 | æ‰€æœ‰æ¨¡å‹ |
| **1 å°æ™‚** | ~1,080,000 | ~360,000 | éœ€è¦ 1M+ ä¸Šä¸‹æ–‡ |
| **2 å°æ™‚** | ~2,160,000 | ~720,000 | éœ€è¦ 2M ä¸Šä¸‹æ–‡ |

## âš™ï¸ è‡ªå‹•æ ¼å¼è½‰æ›å»ºè­°

### æª”æ¡ˆå¤§å°è¶…é™è™•ç†

```bash
# ç•¶æª”æ¡ˆ > 15MB (HTTP) æ™‚ï¼Œå»ºè­°å£“ç¸®
ffmpeg -i input.mp4 -vcodec h264 -acodec aac -b:v 2M output.mp4

# ç•¶æª”æ¡ˆ > 2GB æ™‚ï¼Œå¿…é ˆåˆ†æ®µè™•ç†
ffmpeg -i input.mp4 -t 7200 -c copy part1.mp4  # å‰ 2 å°æ™‚
ffmpeg -i input.mp4 -ss 7200 -c copy part2.mp4  # å¾ŒçºŒéƒ¨åˆ†
```

### è§£æåº¦æœ€ä½³åŒ–

```bash
# é«˜å“è³ªåˆ†æ (720p)
ffmpeg -i input.mp4 -vf scale=1280:720 -r 1 output_hq.mp4

# æ¨™æº–åˆ†æ (480p) - æ¨è–¦
ffmpeg -i input.mp4 -vf scale=854:480 -r 1 output_std.mp4

# ä½è§£æåº¦é•·å½±ç‰‡ (360p)
ffmpeg -i input.mp4 -vf scale=640:360 -r 1 output_low.mp4
```

### å‹•æ…‹ FPS èª¿æ•´

```bash
# é‹å‹•/éŠæˆ²å½±ç‰‡ (é«˜ FPS)
ffmpeg -i sports.mp4 -r 10 output_sports.mp4

# éœæ…‹å…§å®¹ (ä½ FPS)
ffmpeg -i lecture.mp4 -r 0.5 output_lecture.mp4

# ä¸€èˆ¬å…§å®¹ (æ¨™æº– FPS)
ffmpeg -i general.mp4 -r 1 output_general.mp4
```

## ğŸ”„ æ™ºæ…§é è™•ç†ç­–ç•¥

### æª”æ¡ˆåˆ†æéšæ®µ

1. **æª¢æŸ¥æª”æ¡ˆå¤§å°**
   - < 15MB: ç›´æ¥ä¸Šå‚³
   - 15MB - 2GB: å»ºè­°ä½¿ç”¨ GCS
   - > 2GB: å¼·åˆ¶åˆ†æ®µ

2. **æª¢æŸ¥å½±ç‰‡é•·åº¦**
   - æ ¹æ“šæ¨¡å‹ä¸Šä¸‹æ–‡é™åˆ¶èª¿æ•´è§£æåº¦
   - è¶…é•·å½±ç‰‡è‡ªå‹•åˆ‡åˆ†æ™‚é–“æ®µ

3. **å…§å®¹é¡å‹åµæ¸¬**
   - é‹å‹•/éŠæˆ²: æé«˜ FPS
   - è¬›åº§/æ¼”è¬›: é™ä½ FPS
   - ä¸€èˆ¬å…§å®¹: ä½¿ç”¨é è¨­ FPS

### è‡ªå‹•åŒ–æ±ºç­–æµç¨‹

```python
def optimize_video_for_gemini(file_path, target_model):
    file_size = get_file_size(file_path)
    duration = get_video_duration(file_path)
    
    # é¸æ“‡è§£æåº¦
    if target_model in ['gemini-2.0-flash-001', 'gemini-2.5-pro']:
        max_duration_std = 7200  # 2 hours
        max_duration_low = 21600  # 6 hours
    else:
        max_duration_std = 3600   # 1 hour  
        max_duration_low = 10800  # 3 hours
    
    # æ±ºç­–é‚è¼¯
    if duration > max_duration_std:
        if duration <= max_duration_low:
            return {"resolution": "low", "segment": False}
        else:
            return {"resolution": "low", "segment": True}
    
    if file_size > 15 * 1024 * 1024:  # 15MB
        return {"resolution": "standard", "compress": True}
    
    return {"resolution": "standard", "compress": False}
```

## ğŸš¨ é‡è¦æ³¨æ„äº‹é …

### æ•ˆèƒ½è€ƒé‡

- **å¿«é€Ÿå‹•ä½œå ´æ™¯**: 1 FPS å–æ¨£å¯èƒ½éºå¤±ç´°ç¯€
- **Token æˆæœ¬**: é«˜è§£æåº¦æ¶ˆè€— 3 å€ Token
- **è™•ç†æ™‚é–“**: å¤§æª”æ¡ˆéœ€è¦æ›´é•·ä¸Šå‚³å’Œè™•ç†æ™‚é–“

### æœ€ä½³å¯¦è¸

1. **æ¨™æº–å·¥ä½œæµç¨‹**: ä½¿ç”¨ 480pã€1 FPS ä½œç‚ºé è¨­
2. **é•·å½±ç‰‡è™•ç†**: å„ªå…ˆè€ƒæ…® 360p ä½è§£æåº¦
3. **é«˜å“è³ªéœ€æ±‚**: åƒ…åœ¨å¿…è¦æ™‚ä½¿ç”¨ 720p
4. **æª”æ¡ˆç®¡ç†**: å¤§æª”æ¡ˆå„ªå…ˆä½¿ç”¨ Cloud Storage

### é™åˆ¶èˆ‡ç´„æŸ

- æ¯å€‹è«‹æ±‚é™åˆ¶ 1 å€‹å½±ç‰‡æª”æ¡ˆ
- ä¸æ”¯æ´å³æ™‚ä¸²æµåˆ†æ
- éŸ³è¨Šå›ºå®šç‚ºå–®è²é“ 1Kbps
- æŸäº›ç·¨ç¢¼æ ¼å¼å¯èƒ½ä¸æ”¯æ´

---

**æ›´æ–°æ—¥æœŸ**: 2024å¹´12æœˆ  
**é©ç”¨ç‰ˆæœ¬**: Gemini API 2024-2025